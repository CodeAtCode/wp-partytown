/* Partytown 0.0.31 - MIT builder.io */
const t=new Map,e=(t,e)=>({v:t.v,k:e}),n=(t,e,n)=>{const r={"content-type":n||"text/html","Cache-Control":"no-store"};return e&&(r["Cross-Origin-Embedder-Policy"]="require-corp"),new Response(t,{headers:r})};self.oninstall=()=>self.skipWaiting(),self.onactivate=()=>self.clients.claim(),self.onmessage=e=>{const n=e.data,r=t.get(n.v);r&&(t.delete(n.v),clearTimeout(r[1]),r[0](n))},self.onfetch=r=>{const s=r.request,o=new URL(s.url).pathname;o.endsWith("partytown-sandbox-sw.html")?r.respondWith(n('<!DOCTYPE html><html><head><meta charset="utf-8"><script type="module">/* Partytown 0.0.31 - MIT builder.io */\n(t=>{const e=()=>!0,n=t=>t.length,r=t=>{try{return t.constructor.name}catch(t){}return""},s=(t,e)=>t.startsWith(e),i=t=>!(s(t,"webkit")||s(t,"toJSON")||s(t,"constructor")||s(t,"toString")||s(t,"_")),o=()=>Math.round(9999999999*Math.random()+4),a=new WeakMap,c=new Map,u=new Map,l={},h=new WeakMap,p=(t,e,n)=>t?t===t.window?0:"#document"===(n=t.nodeName)?1:"HTML"===n?2:"HEAD"===n?3:"BODY"===n?4:("number"!=typeof(e=a.get(t))&&g(t,e=o()),e):-1,d=(t,e,n,r,s)=>{if((n=l[t])&&(r=n.G))return s=r.document,0===e?r:1===e?s:2===e?s.documentElement:3===e?s.head:4===e?s.body:c.get(e)},g=(t,e)=>{t&&(c.set(e,t),a.set(t,e),m++,m>99999&&(c.forEach(((t,e)=>{t.nodeType&&!t.isConnected&&c.delete(e)})),m=0))};let m=0;const f=(t,e,n,i,o)=>{if(void 0!==e){if("string"==(i=typeof e)||"number"===i||"boolean"===i||null==e)return[9,e];if("function"===i)return[5];if(n=n||new Set,Array.isArray(e))return n.has(e)?[0,[]]:(n.add(e),[0,e.map((e=>f(t,e,n)))]);if("object"===i)return""===(o=r(e))?[8,{}]:"Window"===o?[6,{H:t,p:0}]:"HTMLCollection"===o||"NodeList"===o?[7,Array.from(e).map((e=>f(t,e,n)[1]))]:"Event"===o?[4,y(t,e,n)]:"CSSRuleList"===o?[3,Array.from(e).map(w)]:s(o,"CSS")&&o.endsWith("Rule")?[2,w(e)]:"CSSStyleDeclaration"===o?[8,y(t,e,n)]:"Attr"===o?[1,[e.name,e.value]]:e.nodeType?[6,{H:t,p:p(e),w:e.nodeName}]:[8,y(t,e,n,!0,!0)]}},y=(t,e,n,r,s,o,a,c)=>{if(o={},!n.has(e))for(a in n.add(e),e)i(a)&&(c=e[a],(r||"function"!=typeof c)&&(s||""!==c)&&(o[a]=f(t,c,n)));return o},w=t=>{let e,n={};for(e in t)S.includes(e)&&(n[e]=t[e]);return n},$=(t,e,n,r)=>{if(e){if(n=e[0],r=e[1],9===n)return r;if(10===n)return v(t,r);if(0===n)return r.map((e=>$(t,e)));if(6===n)return d(r.H,r.p);if(4===n)return b(T(t,r));if(8===n)return T(t,r)}},v=(t,{H:e,p:n,A:r})=>{let s=u.get(r);return s||(s=function(...s){const i={p:n,A:r,E:f(e,this),b:f(e,s)};t.postMessage([7,i])},u.set(r,s)),s},b=t=>new("detail"in t?CustomEvent:Event)(t.type,t),T=(t,e,n,r)=>{for(r in n={},e)n[r]=$(t,e[r]);return n},S="cssText,selectorText,href,media,namespaceURI,prefix,name,conditionText".split(","),E=async(t,e)=>{const r={v:e.v},s=n(e.D);for(let n=0;n<s;n++)try{let s,o,a=e.D[n],c=a.H,u=a.p,h=a.a;if(l[c]||await new Promise((t=>{let e=0,n=()=>{l[c]||e++>999?t():setTimeout(n,9)};n()})),1===h[0]&&h[1]in l[c].G){const e=new l[c].G[h[1]](...$(t,h[2]));g(e,u)}else s=d(c,u),s?(o=M(t,s,h,a.m),a.c&&g(o,a.c),"object"==typeof(i=o)&&i&&i.then&&(o=await o,r.r=!0),r.B=f(c,o)):r.k=u+" not found"}catch(t){n===s-1?r.k=String(t.stack||t):console.error(t)}var i;return r},M=(t,e,r,s)=>{let i,o,a,c,u=0,l=n(r);for(;u<l;u++){o=r[u],i=r[u+1],a=r[u-1];try{if(!Array.isArray(i))if("string"==typeof o||"number"==typeof o){if(u+1===l&&s){const t={};return s.map((n=>t[n]=e[n])),t}e=e[o]}else{if(0===i)return void(e[a]=$(t,o));"function"==typeof e[a]&&(c=$(t,o),"insertRule"===a&&c[1]>n(e.cssRules)&&(c[1]=n(e.cssRules)),e=e[a].apply(e,c))}}catch(t){console.warn(t)}}return e},I=(t,e,n)=>{if(!h.has(n)){h.set(n,e);const r=n.document,s=n.history,i={H:e,y:h.get(n.parent),F:r.baseURI},o=()=>t.postMessage([3,i]),a=s.pushState.bind(s),c=s.replaceState.bind(s),u=()=>setTimeout((()=>t.postMessage([11,e,r.baseURI])));s.pushState=(t,e,n)=>{a(t,e,n),u()},s.replaceState=(t,e,n)=>{c(t,e,n),u()},n.addEventListener("popstate",u),n.addEventListener("hashchange",u),l[e]={H:e,G:n},"complete"===r.readyState?o():n.addEventListener("load",o)}},L=(t,e)=>{let r,s,i=e.H,o=e.G,a=o.document,c=a.querySelector(\'script[type="text/partytown"]:not([data-ptid]):not([data-pterror]):not([async]):not([defer])\');c||(c=a.querySelector(\'script[type="text/partytown"]:not([data-ptid]):not([data-pterror])\')),c?(c.dataset.ptid=r=p(c,i),s={H:i,p:r},c.src?(s.F=c.src,s.x=c.dataset.ptsrc||c.src):s.f=c.innerHTML,t.postMessage([6,s])):e.q||(e.q=1,((t,e,r)=>{let s,i,o=r._ptf,a=(r.partytown||{}).forward||[],c=(n,r)=>t.postMessage([8,{H:e,l:n,b:f(e,Array.from(r))}]);if(r._ptf=void 0,a.map((t=>{i=r,t.split(".").map(((t,e,r)=>{i=i[r[e]]=e+1<n(r)?i[r[e]]||("push"===r[e+1]?[]:{}):(...t)=>c(r,t)}))})),o)for(s=0;s<n(o);s+=2)c(o[s],o[s+1])})(t,i,o),a.dispatchEvent(new CustomEvent("pt0")),t.postMessage([4,i]))},N=t=>{const n=t.document.implementation.createHTMLDocument(),r=n.createTextNode(""),s=n.createComment(""),i=n.createDocumentFragment(),o=n.createElement("i"),a=n.createElementNS("http://www.w3.org/2000/svg","svg"),c=n.createElement("canvas").getContext("2d"),u=new MutationObserver(e),l=new ResizeObserver(e),h=t.performance,p=t.screen,d=Object.getOwnPropertyNames(t).filter((t=>/^HTML.+Element$/.test(t))).map((t=>{const e=A(t);return[n.createElement(e)]})),g=[[t.history],[h],[h.navigation],[h.timing],[p],[p.orientation],[u,12],[l,12],[r],[s],[i],[o],[o.attributes],[o.classList],[o.dataset],[o.style],[a],[n],[n.doctype],[c],...d].filter((t=>t[0])).map((e=>{const n=e[0],r=e[1],s=n.constructor.name;return[s,t[s].prototype,n,r]})),m=[x("Window",t),x("Node",r)],f=t.partytown||{},y=(f.lib||"/~partytown/")+"",w={e:JSON.stringify(f,((t,e)=>("function"==typeof e&&(e=String(e)).startsWith(t+"(")&&(e="function "+e),e))),s:new URL(y,t.location)+"",o:m,t:R(t,"localStorage"),C:R(t,"sessionStorage")};return g.map((([t,e,n,r])=>O(m,t,e,n,r))),w},x=(t,e)=>{const n=[],r=[t,"Object",n];for(const t in e)C(n,e,t);return r},O=(t,e,n,r,s)=>{if("Object"!==e&&!t.some((t=>t[0]===e))){const i=Object.getPrototypeOf(n),o=i.constructor.name,a=[];O(t,o,i,r,s),Object.keys(Object.getOwnPropertyDescriptors(n)).map((t=>C(a,r,t))),t.push([e,o,a,s,r.nodeName])}},C=(e,n,s,o,a,c)=>{try{i(s)&&isNaN(s[0])&&("function"==(a=typeof(o=n[s]))?(String(o).includes("[native")||Object.getPrototypeOf(n)[s])&&e.push([s,5]):"object"===a&&null!=o?"Object"!==(c=r(o))&&t[c]&&e.push([s,o.nodeType||c]):"symbol"!==a&&(s.toUpperCase()===s?e.push([s,6,o]):e.push([s,6])))}catch(t){console.warn(t)}},H={Anchor:"A",DList:"DL",Image:"IMG",OList:"OL",Paragraph:"P",TableCaption:"CAPTION",TableCell:"TD",TableCol:"COLGROUP",TableRow:"TR",TableSection:"TBODY",UList:"UL"},A=t=>(t=t.substr(4).replace("Element",""),H[t]||t),R=(t,e)=>{let r,s=[],i=0,o=n(t[e]);for(;i<o;i++)r=t[e].key(i),s.push([r,t[e].getItem(r)]);return s};(async t=>{let e;const n=t.parent,r=await(async(t,n)=>{const r=t.navigator.serviceWorker,s=await r.getRegistration();return r.addEventListener("message",(t=>{return n=t.data,r=t=>s.active&&s.active.postMessage(t),E(e,n).then(r);var n,r})),s?(t,e,n)=>{0===n[0]?t.postMessage([1,N(e)]):((t,e,n)=>{const r=n[0];if(2===r)I(t,o(),e);else{const e=n[1],s=l[e];s&&(6===r?L(t,s):5===r&&((t,e,n,r,s)=>{(s=e.G.document.querySelector(`[data-ptid="${n}"]`))&&(r?s.dataset.pterror=r:s.type+="-x"),L(t,e)})(t,s,n[2],n[3]))}})(t,e,n)}:null})(t);r&&(e=new Worker(URL.createObjectURL(new Blob([\'/* Partytown 0.0.31 - MIT builder.io */\\n(t=>{const e=Symbol(),n=Symbol(),r=Symbol(),s=Symbol(),i=Symbol(),o=Symbol(),a=Symbol(),c=Symbol(),l=new Map,u={},h=new WeakMap,$={},d={},p={},g={},m=new Map,f=new Map,w="getClientRects,getBoundingClientRect".split(","),y="innerHeight,innerWidth,outerHeight,outerWidth,clientHeight,clientWidth,clientTop,clientLeft,scrollHeight,scrollWidth,scrollTop,scrollLeft,offsetHeight,offsetWidth,offsetTop,offsetLeft".split(","),I="childElementCount,children,firstElementChild,lastElementChild,nextElementSibling,previousElementSibling",v=()=>!0,S=t=>t.length,b=(t,e)=>Object.defineProperty(t,"name",{value:e}),T=[],E=()=>Math.round(9999999999*Math.random()+4),N="text/partytown",M=(t,e,n)=>((t,e,n)=>Object.defineProperty(t,e,{...n,configurable:!0}))(t.prototype,e,n),x=(t,e)=>Object.defineProperties(t.prototype,e),L=(t,e,n)=>M(t,e,{value:n,writable:!0}),C=[];let R=0;const H=(t,r,s,o,a)=>{const c=t[n];if(C.push({H:t[e],p:c,a:[...t[i],...r],c:o,m:a}),!s)return P(!0);R=setTimeout(P,30)},P=t=>{if(clearTimeout(R),S(C)){const e=C[S(C)-1],n={v:E(),D:C.slice()};if(C.length=0,t){const t=((t,e)=>{const n=new XMLHttpRequest,r=t.s+"proxytown";return n.open("POST",r,!1),n.send(JSON.stringify(e)),JSON.parse(n.responseText)})(p,n),r=t.r,s=ut(e.p,e.a,t.B);if(t.k){if(r)return Promise.reject(t.k);throw new Error(t.k)}return r?Promise.resolve(s):s}p.z([10,n])}},W=(t,e,n)=>{let r;return p.e.get&&(r=p.e.get(D(t,e)),r!==a)||(r=H(t,e,!1,void 0,n)),r},O=(t,e,n)=>{if(p.e.set){const r=p.e.set({value:n,prevent:c,...D(t,e)});if(r===c)return;r!==a&&(n=r)}const r=lt(t,n),s=[...e,r,0];H(t,s,!0)},A=(t,e,n,r)=>{let s;if(p.e.apply&&(s=p.e.apply({args:n,...D(t,e)}),s!==a))return s;const i=e[S(e)-1],o=k.includes(i),c=[...e,lt(t,n)];return s=H(t,c,o,r),o||w.includes(i)||m.clear(),s},D=(t,e)=>({name:e.join("."),continue:a,nodeName:t[r],constructor:t.constructor&&t.constructor.name}),k="addEventListener,removeEventListener,createElement,createTextNode,insertBefore,insertRule,deleteRule,setAttribute,setItem,removeItem,classList.add,classList.remove,classList.toggle".split(","),j=(t,e,n)=>{const r=t=>n.findIndex((e=>e[B]===t)),s={getItem(t){const e=r(t);return e>-1?n[e][U]:null},setItem(s,i){const o=r(s);o>-1?n[o][U]=i:n.push([s,i]),A(t,[e,"setItem"],[s,i])},removeItem(s){const i=r(s);i>-1&&n.splice(i,1),A(t,[e,"removeItem"],[s])},key(t){const e=n[t];return e?e[B]:null},clear(){n.length=0,A(t,[e,"clear"],T)},get length(){return n.length}};t[e]=s},B=0,U=1,F=(t,e,n,r)=>{let s=l.get(e);return s||(s=_(t,e,n,r),l.set(e,s)),s},_=(e,n,r,s)=>new($[r]?$[r]:r.includes("-")?$.UNKNOWN:t.HTMLElement)(e,n,[],r,s),q=(t,e)=>e in t[o],z=(t,e)=>t[o][e],J=(t,e,n)=>t[o][e]=n,X=(t,e,n,r)=>{let s="";try{t.g=e,G(t,n)}catch(t){console.error(n,t),s=String(t.stack||t)+""}return t.g=-1,s},G=(t,e,n)=>new Function(`with(this){${e.replace(/\\\\bthis\\\\b/g,"_ptthis(this)").replace(/\\\\/\\\\/# so/g,"//Xso")};function _ptthis(t){return t===this?window:t}}`+(n?"\\\\n//# sourceURL="+n:"")).call(t.G),V=(t,e,n)=>{(n=z(t,e))&&setTimeout((()=>n.map((t=>t({type:e})))),undefined)},Y=(t,e,n,r)=>{for(r=t.u;!r.host&&(r=(t=g[t.y]).u,t.H!==t.y););const s=new URL(e||"",r);if(!n&&p.e.resolveUrl){const t=p.e.resolveUrl(s,r);if(t)return t}return s},K=(t,e,n)=>Y(t,e,n)+"",Q=t=>Y(it(t),z(t,4)),Z=()=>`<script src=${JSON.stringify(p.s+"partytown.js")} async><\\\\/script>`,tt=t=>class{constructor(){this.s="",this.l=[],this.e=[]}get src(){return this.s}set src(e){fetch(K(t,e,!0),{mode:"no-cors",keepalive:!0}).then((t=>{t.ok||0===t.status?this.l.map((t=>t({type:"load"}))):this.e.map((t=>t({type:"error"})))}),(()=>this.e.forEach((t=>t({type:"error"})))))}addEventListener(t,e){"load"===t&&this.l.push(e),"error"===t&&this.e.push(e)}get onload(){return this.l[0]}set onload(t){this.l=[t]}get onerror(){return this.e[0]}set onerror(t){this.e=[t]}};class et extends URL{assign(){}reload(){}replace(){}}class nt{constructor(t,a,c,l,u){this[e]=t,this[n]=a,this[i]=c||[],this[r]=l,this[o]={},u&&(this[s]=u)}}class rt extends nt{constructor(t,e,n,r){return super(t,e,n,r),new Proxy(this,{get:(t,e)=>W(t,[e]),set:(t,e,n)=>(O(t,[e],n),!0)})}}class Window extends nt{constructor(e,n,r){super(e,0);for(const e in t)if(!(e in this)&&"onmessage"!==e){const n=t[e];if(null!=n){const r="function"==typeof n&&!n.toString().startsWith("class");this[e]=r?n.bind(t):n}}Object.getOwnPropertyNames(t).map((e=>{e in this||(this[e]=t[e])}));for(const t in d)this[t]=b(class{constructor(...n){const r=new(0,d[t])(e,E()),s=lt(r,n);return H(r,[1,t,s]),r}},t);"trustedTypes"in t&&(this.trustedTypes=t.trustedTypes);const s=new Proxy(this,{has:()=>!0});return g[e]={H:e,y:n,G:s,i:_(e,1,"#document"),j:_(e,2,"HTML"),n:_(e,3,"HEAD"),d:_(e,4,"BODY"),u:new et(r)},this.requestAnimationFrame=t=>setTimeout((()=>t(performance.now())),9),this.cancelAnimationFrame=t=>clearTimeout(t),this.requestIdleCallback=t=>{const e=Date.now();return setTimeout((()=>t({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))})),1)},this.cancelIdleCallback=t=>clearTimeout(t),j(this,"localStorage",p.t),j(this,"sessionStorage",p.C),s}get Audio(){return t=it(this),class{constructor(e){const n=t.i.createElement("audio");return n.src=e,n}};var t}get body(){return it(this).d}get document(){return it(this).i}get documentElement(){return it(this).j}fetch(t,e){return t="string"==typeof t||t instanceof URL?String(t):t.url,fetch(K(it(this),t),e)}get frameElement(){const t=it(this),e=t.y,n=t.H;return n===e?null:F(e,n,"IFRAME")}get globalThis(){return this}get head(){return it(this).n}get location(){return it(this).u}set location(t){it(this).u.href=t+""}get Image(){return tt(it(this))}get name(){const t=this[e];return name+t}get navigator(){return(e=>{const n=t.navigator;return n.sendBeacon=(t,n)=>{try{return fetch(K(e,t,!0),{method:"POST",body:n,mode:"no-cors",keepalive:!0}),!0}catch(t){return console.error(t),!1}},n})(it(this))}get origin(){return it(this).u.origin}get parent(){return g[it(this).y].G}get self(){return this}get top(){for(const t in g)if(g[t].H===g[t].y)return g[t].G}get window(){return this}}const st=({H:t,y:e,F:n})=>(g[t]?g[t].u.href=n:new Window(t,e,n),p.z([6,t]),g[t]),it=t=>g[t[e]];class Node extends nt{appendChild(t){return this.insertBefore(t,null)}get href(){}set href(t){}insertBefore(t,s){const i=t[e]=this[e],o=t[n],a=t[r],c="SCRIPT"===a,l="IFRAME"===a;if(c){const e=z(t,3);if(e){const n=X(it(t),o,e),r=n?"pterror":"ptid",s=n||o;O(t,["type"],N+"-x"),O(t,["dataset",r],s),O(t,["innerHTML"],e)}}return A(this,["insertBefore"],[t,s]),l&&((t,e)=>{let n,r,s=0;const i=()=>{g[t]&&g[t].q?(n=z(e,1)?"error":"load",r=z(e,n),r&&r.map((t=>t({type:n})))):s++>2e3?(r=z(e,"error"),r&&r.map((t=>t({type:"error"})))):setTimeout(i,9)};i()})(o,t),c&&(P(!0),p.z([6,i])),t}get nodeName(){return this[r]}get nodeType(){return 3}get ownerDocument(){return it(this).i}}class ot{constructor(t){this.name=t[0],this.value=t[1]}get nodeName(){return this.name}get nodeType(){return 2}}class NodeList{constructor(t){(this._=t).map(((t,e)=>this[e]=t))}entries(){return this._.entries()}forEach(t,e){this._.map(t,e)}item(t){return this[t]}keys(){return this._.keys()}get length(){return S(this._)}values(){return this._.values()}[Symbol.iterator](){return this._[Symbol.iterator]()}}const at=(t,r,s,i)=>{if(void 0!==s){let c=typeof s;if("string"===c||"boolean"===c||"number"===c||null==s)return[9,s];if("function"===c)return[10,{H:t,p:r,A:(o=s,(a=h.get(o))||(h.set(o,a=E()),u[a]=o),a)}];if(i=i||new Set,Array.isArray(s))return i.has(s)?[0,[]]:[0,s.map((e=>at(t,r,e,i)))];if("object"===c)return"number"==typeof s[n]?[6,{H:s[e],p:s[n]}]:s instanceof Event?[4,ct(t,r,s,!1,i)]:"undefined"!=typeof TrustedHTML&&s instanceof TrustedHTML?[9,s.toString()]:[8,ct(t,r,s,!0,i)]}var o,a},ct=(t,e,n,r,s,i,o,a)=>{if(i={},!s.has(n))for(o in s.add(n),n)a=n[o],(r||"function"!=typeof a)&&(i[o]=at(t,e,a,s));return i},lt=(t,r)=>t?at(t[e],t[n],r):[9,r],ut=(t,e,n,r,s)=>{if(n){if(r=n[0],s=n[1],9===r||2===r||3===r)return s;if(10===r)return pt(e,s);if(6===r)return $t(s);if(7===r)return new NodeList(s.map($t));if(1===r)return new ot(s);if(0===r)return s.map((n=>ut(t,e,n)));if(4===r)return i=ht(t,e,s),new Proxy(new Event(i.type,i),{get:(t,e)=>e in i?i[e]:t[String(e)]});if(8===r)return ht(t,e,s)}var i},ht=(t,e,n,r,s)=>{for(s in r={},n)r[s]=ut(t,[...e,s],n[s]);return r},$t=({H:t,p:e,w:n})=>dt(t,e)||F(t,e,n),dt=(t,e)=>{const n=g[t];return 0===e?n.G:1===e?n.i:2===e?n.j:3===e?n.n:4===e?n.d:void 0},pt=(t,{H:e,p:n,w:r,A:s})=>(u[s]||h.set(u[s]=function(...s){const i=F(e,n,r);return A(i,t,s)},s),u[s]),gt={sheet:{get(){return new mt(this)}}};class mt{constructor(t){this.ownerNode=t}get cssRules(){const t=this.ownerNode;return new Proxy({},{get(e,n){const r=String(n);return"item"===r?e=>wt(t,e):"length"===r?ft(t).length:isNaN(r)?e[n]:wt(t,r)}})}insertRule(t,e){const n=ft(this.ownerNode);return(e=void 0===e?0:e)>=0&&e<=n.length&&(A(this.ownerNode,["sheet","insertRule"],[t,e]),n.splice(e,0,0)),e}deleteRule(t){A(this.ownerNode,["sheet","deleteRule"],[t]),ft(this.ownerNode).splice(t,1)}}const ft=t=>{let e=z(t,2);return e||(e=W(t,["sheet","cssRules"]),J(t,2,e)),e},wt=(t,e)=>{let n=ft(t);return 0===n[e]&&(n[e]=W(t,["sheet","cssRules",parseInt(e,10)])),n[e]},yt={body:{get(){return it(this).d}},createElement:{value(t){t=t.toUpperCase();const n=this[e],r=E(),s=F(n,r,t);return A(this,["createElement"],[t],r),"IFRAME"===t?(st({H:r,y:n,F:"about:blank"}).G.fetch=fetch,O(s,["srcdoc"],Z())):"SCRIPT"===t&&O(s,["type"],N),s}},createElementNS:{value(t,n){n=n.toLowerCase();const r=this[e],s=E(),i=F(r,s,n,t);return A(this,["createElementNS"],[t,n],s),i}},createTextNode:{value(t){const n=this[e],r=E(),s=F(n,r,"#text");return A(this,["createTextNode"],[t],r),s}},createEvent:{value:t=>new Event(t)},currentScript:{get(){const t=this[e],n=it(this).g;return n>0?F(t,n,"SCRIPT"):null}},defaultView:{get(){return it(this).G}},documentElement:{get(){return it(this).j}},getElementsByTagName:{value(t){return"BODY"===(t=t.toUpperCase())?[it(this).d]:"HEAD"===t?[it(this).n]:A(this,["getElementsByTagName"],[t])}},head:{get(){return it(this).n}},implementation:{value:{hasFeature:v}},location:{get(){return it(this).u},set(t){it(this).u.href=t+""}},nodeType:{value:9},parentNode:{value:null},parentElement:{value:null},readyState:{value:"complete"}},It={parentElement:{get(){return this.parentNode}},parentNode:{get(){return it(this).j}}},vt={parentElement:{value:null},parentNode:{get(){return it(this).i}}},St={localName:{get(){return this[r].toLowerCase()}},namespaceURI:{get(){return this[s]||"http://www.w3.org/1999/xhtml"}},nodeType:{value:1},tagName:{get(){return this[r]}}},bt={hash:{get(){return Q(this).hash}},host:{get(){return Q(this).host}},hostname:{get(){return Q(this).hostname}},href:{get(){return Q(this).href},set(t){J(this,4,t+=""),O(this,["href"],t)}},origin:{get(){return Q(this).origin}},pathname:{get(){return Q(this).pathname}},port:{get(){return Q(this).port}},protocol:{get(){return Q(this).protocol}},search:{get(){return Q(this).search}}},Tt={getContext:{value(...r){const s=["getContext",lt(this,r)];return new t.CanvasRenderingContext2D(this[e],this[n],s)}}},Et={addEventListener:{value(...t){const e=t[0],n=z(this,e)||[];n.push(t[1]),J(this,e,n)}},async:{get:v,set:v},defer:{get:v,set:v},onload:{get(){let t=z(this,"load");return t&&t[0]||null},set(t){J(this,"load",t?[t]:null)}},onerror:{get(){let t=z(this,"error");return t&&t[0]||null},set(t){J(this,"error",t?[t]:null)}}},Nt={contentDocument:{get(){return this.contentWindow.document}},contentWindow:{get(){const t=this[n];return g[t].G}},src:{get(){return z(this,4)||""},set(t){let e,n=new XMLHttpRequest;t=K(it(this),t),J(this,1,void 0),J(this,4,t),n.open("GET",t,!1),n.send(),e=n.status,e>199&&e<300?O(this,["srcdoc"],((t,e)=>`<base href="${t}">`+e.replace(/<script>/g,\\\'<script type="text/partytown">\\\').replace(/<script /g,\\\'<script type="text/partytown" \\\').replace(/text\\\\/javascript/g,N)+Z())(t,n.responseText)):J(this,1,e)}},...Et},Mt={get(){return z(this,3)||""},set(t){J(this,3,t)}},xt={innerHTML:Mt,innerText:Mt,src:{get(){return z(this,4)||""},set(t){const e=it(this),n=K(e,t,!0);t=K(e,t),J(this,4,t),O(this,["src"],t),n!==t&&O(this,["dataset","ptsrc"],n)}},getAttribute:{value(t){return"src"===t?this.src:A(this,["getAttribute"],[t])}},setAttribute:{value(t,e){"src"===t?this.src=e:A(this,["setAttribute"],[t,e])}},textContent:Mt,type:{get(){return W(this,["type"])},set(t){"text/javascript"!==t&&O(this,["type"],t)}},...Et},Lt=([s,o,a,c,l])=>{const u=Ct[s]?rt:"Object"===o||"EventTarget"===o?nt:t[o],h=t[s]=b(t[s]||class extends u{},s);12===c&&(d[s]=h),l&&($[l]=h),a.map((([s,o,a])=>{s in h.prototype||s in u.prototype||("string"==typeof o?M(h,s,{get(){if(!q(this,s)){const a=this[e],c=this[n],l=[...this[i],s],u=this[r],h=t[o];J(this,s,new h(a,c,l,u))}return z(this,s)},set(t){J(this,s,t)}}):5===o?L(h,s,(function(...t){return A(this,[s],t)})):o>0&&(void 0!==a?L(h,s,a):M(h,s,{get(){return W(this,[s])},set(t){return O(this,[s],t)}})))}))},Ct={CSSStyleDeclaration:1,DOMStringMap:1,NamedNodeMap:1},Rt=(t,e)=>L(t,"nodeType",e),Ht=(t,e)=>e.split(",").map((e=>M(t,e,{get(){let t=Pt(this,e),n=f.get(t);return n||(n=W(this,[e]),f.set(t,n)),n}}))),Pt=(t,r)=>t[e]+"."+t[n]+"."+r,Wt=(t,e)=>e.split(",").map((e=>M(t,e,{get(){return q(this,e)||J(this,e,W(this,[e])),z(this,e)},set(t){J(this,e,t)}}))),Ot=(t,e)=>Object.keys(e).map((n=>L(t,n,e[n]))),At=t=>y.map((e=>M(t,e,{get(){const t=m.get(Pt(this,e));if("number"==typeof t)return t;const n=W(this,[e],y);return n&&"object"==typeof n?(Object.entries(n).map((([t,e])=>{m.set(Pt(this,t),e)})),n[e]):n}}))),Dt=t=>w.map((e=>{t.prototype[e]=function(){let t=Pt(this,e),n=m.get(t);return n||(n=A(this,[e],T),m.set(t,n)),n}}));class kt extends nt{now(){return performance.now()}}const jt=[],Bt=e=>{const n=e.data,r=n[0];p.q?6===r?(async e=>{let n,r=e.H,s=e.p,i=F(r,s,"SCRIPT"),o=e.f,a=e.F,c=e.x,l="",u=g[r];if(a)try{a=Y(u,a)+"",J(i,4,a),n=await t.fetch(a),n.ok?(o=await n.text(),u.g=s,G(u,o,c||a),V(i,"load")):(l=n.statusText,V(i,"error"))}catch(t){l=String(t.stack||t)+"",V(i,"error")}else o&&(l=X(u,s,o));u.g=-1,p.z([5,r,s,l])})(n[1]):7===r?(({p:t,A:e,E:n,b:r})=>{if(u[e])try{const s=ut(t,[],n),i=ut(t,[],r);u[e].apply(s,i)}catch(t){console.error(t)}})(n[1]):8===r?(({H:t,l:e,b:n})=>{try{let r=g[t].G,s=0,i=S(e);for(;s<i;s++)s+1<i?r=r[e[s]]:r[e[s]].apply(r,ut(0,[],n))}catch(t){console.error(t)}})(n[1]):3===r?st(n[1]):4===r?g[n[1]].q=1:11===r&&(g[n[1]].u.href=n[2]):1===r?((e=>{const n=p.e=JSON.parse(e.e);["resolveUrl","get","set","apply"].map((t=>{n[t]&&(n[t]=new Function("return "+n[t])())})),p.s=e.s,p.t=e.t,p.C=e.C,p.z=postMessage.bind(t),p.$sharedDataBuffer$=e.$sharedDataBuffer$,t.postMessage=t.importScripts=void 0,t.Node=Node,t.Window=Window,t.CSSStyleSheet=mt,t.Performance=kt,e.o.map(Lt),(()=>{const e=t.Document,n=t.DocumentFragment,r=t.Element;"atob,btoa,crypto,indexedDB,setTimeout,setInterval,clearTimeout,clearInterval".split(",").map((t=>delete Window.prototype[t])),x(r,St),x(e,yt),x(t.HTMLAnchorElement,bt),x(t.HTMLCanvasElement,Tt),x(t.HTMLIFrameElement,Nt),x(t.HTMLScriptElement,xt),x(t.HTMLStyleElement,gt),x(t.HTMLHeadElement,It),x(t.HTMLBodyElement,It),x(t.HTMLHtmlElement,vt),Ot(mt,{type:"text/css"}),Rt(t.Comment,8),Rt(t.DocumentType,10),Rt(n,11),Ht(Node,"childNodes,firstChild,isConnected,lastChild,nextSibling,parentElement,parentNode,previousSibling"),Ht(r,I),Ht(n,I),At(r),At(Window),Dt(r),Wt(e,"compatMode,referrer")})(),p.q=1})(n[1]),p.z([2]),jt.slice().forEach(Bt),jt.length=0):jt.push(e)};t.onmessage=Bt,postMessage([0])})(self);\\n\'],{type:"text/javascript"})),{name:"Partytown 🎉"}),e.onmessage=t=>{const s=t.data;10===s[0]?E(e,s[1]):r(e,n,s)},n.addEventListener("pt1",(t=>{const n=t.detail,r=p(n.frameElement);I(e,r,n)})))})(t)})(window);\n<\/script></head></html>',false)):o.endsWith("proxytown")&&r.respondWith(((r,s)=>new Promise((async o=>{const i=await r.clone().json(),a=await(n=>new Promise((async r=>{const s=[...await self.clients.matchAll()].sort(((t,e)=>t.url>e.url?-1:t.url<e.url?1:0))[0];if(s){const o=[r,setTimeout((()=>{t.delete(n.v),r(e(n,"Timeout"))}),1e4)];t.set(n.v,o),s.postMessage(n)}else r(e(n,"No Party"))})))(i);o(n(JSON.stringify(a),s,"application/json"))})))(s,false))};
